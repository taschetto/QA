<%- title "Editar Perfil" %>
<h2>Editar Perfil</h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, class: "custom" }) do |f| %>
  <%= devise_error_messages! %>

  <div class="row">
    <div class="large-8 columns">
      <%= f.label :email, "E-mail" %>
      <%= f.text_field :email, autofocus: false, disabled: true %>
    </div>
  </div>    

  <div class="row">
    <div class="large-4 columns">
      <%= f.label :first_name, "Nome" %>
      <%= f.text_field :first_name, autofocus: true, autocomplete: true %>
    </div>
    <div class="large-4 columns">
      <%= f.label :last_name, "Sobrenome" %>
      <%= f.text_field :last_name, autocomplete: true %>
    </div>
    <div class="large-4 columns">
      <%= f.label :birthday, "Data de nascimento" %>
      <%= f.date_field :birthday, autocomplete: true %>
    </div>
  </div>    

  <div class="row">
    <div class="large-12 columns">
      <%= f.label :about, "Sobre mim" %>
      <%= f.text_field :about, autocomplete: true %>
    </div>
  </div>  

  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
    <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
  <% end %>

  <div class="row">
    <div class="large-4 columns">
      <%= f.label :password, "Nova senha" %>
      <%= f.password_field :password, autocomplete: false %>
    </div>
    <div class="large-4 columns">
      <%= f.label :password_confirmation, "Nova senha (confirmação)" %>
      <%= f.password_field :password_confirmation, autocomplete: false %>
    </div>
    <div class="large-4 columns"></div>
  </div>

  <div class="row">
    <div class="large-4 columns">
      <%= f.label :user_level, "Tipo de usuário" %>
      <%= f.select :user_level, [['Normal', 0], ['Moderador', 1], ['Admin', 2]], html: { id: "custoDropdown", class: "small" } %>
    </div>
  </div>  

  <div class="row">
    <div class="large-12 columns">
      <%= f.label :current_password, "Senha atual (necessário para confirmar)" %>
      <%= f.password_field :current_password, autocomplete: false %>
    </div>
  </div>

  <div class="row">
    <div class="large-4 columns">
      <%= f.submit "Atualizar", class: "small button" %>
    </div>
  </div>

<% end %>
<div class="row">
    <div class="large-12 columns">
      <p>Não gostou do <%= QA::Application.config.main_title %>? <%= button_to "Cancelar minha conta", registration_path(resource_name), :data => { :confirm => "Tem certeza? Esta operação não pode ser desfeita!" }, :method => :delete, class: "small button alert" %></p>
    </div>
  </div>